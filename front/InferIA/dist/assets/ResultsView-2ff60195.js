import{d as M,r as y,_ as $,s as b,o as R,a as p,c as h,w as i,v as u,u as t,b as e,i as B,e as A,p as S,f as k,g as P,h as E,R as N,t as w,j as g,F as j,k as v,l as T,m as F}from"./index-837b43bb.js";import{_ as O,L as q,D}from"./BreadCrumbs-ba92fc00.js";const V=M("advanceSearch",()=>{const a=y([]),_=y(""),d=async r=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"busqueda",searchtext:JSON.stringify(r)}),a.value="loading",_.value="";const m="http://inferia.io/api/search-table/";try{const f=await fetch(m,{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(r)});if(f.ok){const x=await f.json();a.value=x,console.log("ok",x)}}catch(f){console.log(f)}},c=y([{col1_1:"",col1_2:"",col1_3:""},{col2_1:"",col2_2:"",col2_3:""},{col3_1:"",col3_2:"",col3_3:""},{col4_1:"",col4_2:"",col4_3:""}]),l=y({header1:"",header2:"",header3:"",header4:""}),n=y("");return{makePostRequest:d,results:a,data:c,headers:l,context:n,keywords:_}});const z=a=>(S("data-v-825e7897"),a=a(),k(),a),J=["onSubmit"],H=z(()=>e("i",{class:"bi bi-search lupa"},null,-1)),W={__name:"SearchBar",setup(a){const _=V(),{results:d}=b(_),{keywords:c}=b(_);R(()=>{c.value&&l();const n=new URLSearchParams(window.location.search);n.has("keywords")&&(c.value=n.get("keywords"),l())});async function l(){d.value="loading",window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"busqueda",searchtext:c.value});try{const n=await fetch("http://inferia.io/api/search/?keywords="+c.value,{headers:new Headers({"Content-type":"application/json"})});if(n.ok){const r=await n.json();d.value=r,console.log("ok",d.value)}}catch(n){console.log(n)}}return(n,r)=>(p(),h("form",{id:"searchBox",onSubmit:A(l,["prevent"])},[H,i(e("input",{placeholder:"Search",id:"textInput",autocomplete:"off",class:"searchBar","onUpdate:modelValue":r[0]||(r[0]=m=>B(c)?c.value=m:null)},null,512),[[u,t(c)]])],40,J))}},G=$(W,[["__scopeId","data-v-825e7897"]]);const C=a=>(S("data-v-bc2575ed"),a=a(),k(),a),K={class:"container card"},Q={class:"row"},X={class:"col-2 img-col"},Y=["src"],Z={class:"col-lg-10 col-12"},ee={class:"card-body mt-1"},te={class:"card-title mb-0 fw-bold"},oe={class:"list-group list-group-horizontal"},se=C(()=>e("li",{class:"list-group-item"},[e("i",{class:"bi bi-file-earmark-ruled"}),g(" CSV")],-1)),le={class:"list-group-item"},ae=C(()=>e("i",{class:"bi bi-patch-check"},null,-1)),ne=["href"],ce=C(()=>e("li",{class:"list-group-item free"},[e("i",{class:"bi bi-cash"}),g(" Free")],-1)),de={class:"mt-2 card-text text-secondary"},re={__name:"ResultCard",props:["data"],setup(a){return console.log("here",a.data),(d,c)=>(p(),P(t(N),{to:`/details/${a.data.id}`},{default:E(()=>[e("div",K,[e("div",Q,[e("div",X,[e("img",{src:a.data.img_portal,class:"",height:"100",width:"100"},null,8,Y)]),e("div",Z,[e("div",ee,[e("h5",te,w(a.data.title),1),e("ul",oe,[se,e("li",le,[ae,g(),e("a",{href:a.data.license},"License",8,ne)]),ce]),e("p",de,w(a.data.description),1)])])])])]),_:1},8,["to"]))}},ie=$(re,[["__scopeId","data-v-bc2575ed"]]);const L=a=>(S("data-v-e5146b79"),a=a(),k(),a),ue=L(()=>e("button",{type:"button",class:"btn btn-primary mt-4","data-bs-toggle":"modal","data-bs-target":"#exampleModal"}," Advanced Search ",-1)),_e={class:"modal-dialog"},pe={class:"modal-content"},he=L(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"exampleModalLabel"},"Advanced Search"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),me={class:"modal-body"},ve={class:"d-flex"},ye=L(()=>e("h6",{class:"mx-2 mt-2"},"Topic",-1)),fe={class:"table table-borderless"},ge={scope:"col"},xe={scope:"col"},be={scope:"col"},we={scope:"col"},$e={scope:"row"},Se={scope:"row"},ke={scope:"row"},Ve={__name:"AdvanceSearchModel",setup(a){const _=V(),{makePostRequest:d}=_,c=y(null),{data:l,headers:n,context:r}=b(_),m=y({}),f=()=>{m.value.context=r.value;const x=Object.values(n.value);m.value.headers=x;const o=l.value.map(s=>Object.values(s));m.value.content=o,d(m.value),console.log(m.value)};return(x,o)=>(p(),h(j,null,[ue,e("div",{class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref_key:"modal",ref:c},[e("div",_e,[e("div",pe,[he,e("div",me,[e("div",ve,[ye,i(e("input",{type:"text",class:"form-control-plaintext special-border mx-2 mb-3 text-center","onUpdate:modelValue":o[0]||(o[0]=s=>B(r)?r.value=s:null),placeholder:"Esperanza de vida"},null,512),[[u,t(r)]])]),e("table",fe,[e("thead",null,[e("tr",null,[e("th",ge,[i(e("input",{type:"text",class:"form-control-plaintext special-border text-center","onUpdate:modelValue":o[1]||(o[1]=s=>t(n).header1=s),placeholder:"municipio"},null,512),[[u,t(n).header1]])]),e("th",xe,[i(e("input",{type:"text",class:"form-control-plaintext special-border text-center","onUpdate:modelValue":o[2]||(o[2]=s=>t(n).header2=s),placeholder:"sexo"},null,512),[[u,t(n).header2]])]),e("th",be,[i(e("input",{type:"text",class:"form-control-plaintext special-border text-center","onUpdate:modelValue":o[3]||(o[3]=s=>t(n).header3=s),placeholder:"periodo"},null,512),[[u,t(n).header3]])]),e("th",we,[i(e("input",{type:"text",class:"form-control-plaintext special-border text-center","onUpdate:modelValue":o[4]||(o[4]=s=>t(n).header4=s),placeholder:"total"},null,512),[[u,t(n).header4]])])])]),e("tbody",null,[e("tr",null,[e("th",$e,[i(e("input",{type:"text",class:"form-control text-center","onUpdate:modelValue":o[5]||(o[5]=s=>t(l)[0].col1_1=s),placeholder:"Alicante"},null,512),[[u,t(l)[0].col1_1]])]),e("td",null,[i(e("input",{type:"text",class:"form-control text-center","onUpdate:modelValue":o[6]||(o[6]=s=>t(l)[1].col2_1=s),placeholder:"M"},null,512),[[u,t(l)[1].col2_1]])]),e("td",null,[i(e("input",{type:"text",class:"form-control text-center","onUpdate:modelValue":o[7]||(o[7]=s=>t(l)[2].col3_1=s),placeholder:"2022"},null,512),[[u,t(l)[2].col3_1]])]),e("td",null,[i(e("input",{type:"text",class:"form-control text-center","onUpdate:modelValue":o[8]||(o[8]=s=>t(l)[3].col4_1=s),placeholder:"5000"},null,512),[[u,t(l)[3].col4_1]])])]),e("tr",null,[e("th",Se,[i(e("input",{type:"text",class:"form-control text-center","onUpdate:modelValue":o[9]||(o[9]=s=>t(l)[0].col1_2=s),placeholder:"Valencia"},null,512),[[u,t(l)[0].col1_2]])]),e("td",null,[i(e("input",{type:"text",class:"form-control text-center","onUpdate:modelValue":o[10]||(o[10]=s=>t(l)[1].col2_2=s),placeholder:"F"},null,512),[[u,t(l)[1].col2_2]])]),e("td",null,[i(e("input",{type:"text",class:"form-control text-center","onUpdate:modelValue":o[11]||(o[11]=s=>t(l)[2].col3_2=s),placeholder:"2023"},null,512),[[u,t(l)[2].col3_2]])]),e("td",null,[i(e("input",{type:"text",class:"form-control text-center","onUpdate:modelValue":o[12]||(o[12]=s=>t(l)[3].col4_2=s),placeholder:"5000"},null,512),[[u,t(l)[3].col4_2]])])]),e("tr",null,[e("th",ke,[i(e("input",{type:"text",class:"form-control text-center","onUpdate:modelValue":o[13]||(o[13]=s=>t(l)[0].col1_3=s),placeholder:"Madrid"},null,512),[[u,t(l)[0].col1_3]])]),e("td",null,[i(e("input",{type:"text",class:"form-control text-center","onUpdate:modelValue":o[14]||(o[14]=s=>t(l)[1].col2_3=s),placeholder:"Ambos"},null,512),[[u,t(l)[1].col2_3]])]),e("td",null,[i(e("input",{type:"text",class:"form-control text-center","onUpdate:modelValue":o[15]||(o[15]=s=>t(l)[2].col3_3=s),placeholder:"2021"},null,512),[[u,t(l)[2].col3_3]])]),e("td",null,[i(e("input",{type:"text",class:"form-control text-center","onUpdate:modelValue":o[16]||(o[16]=s=>t(l)[3].col4_3=s),placeholder:"4000"},null,512),[[u,t(l)[3].col4_3]])])])])])]),e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:f}," Send ")])])])],512)],64))}},Ue=$(Ve,[["__scopeId","data-v-e5146b79"]]),Ce="/assets/hackaton_Img-4ef058d9.jpg";const I=a=>(S("data-v-7319f27f"),a=a(),k(),a),Le={class:"container card"},Be={class:"row"},je=I(()=>e("div",{class:"col-6 rounded"},[e("img",{src:Ce,class:"",height:"120",width:"160"})],-1)),Ie={class:"col-6 pe-1"},Me={class:"p-1 card-text"},Re=I(()=>e("p",null,"Special Event",-1)),Ae={class:"fs-6 fw-bold py-2"},Pe={__name:"PromotedBtn",props:["title","tag"],setup(a){const _=a,d=V(),{results:c}=b(d),l=async()=>{try{c.value="loading";const r=await(await fetch(`http://inferia.io/api/tags/?tags=${_.tag}`)).json();console.log(r),c.value=r}catch(n){console.log(n)}};return(n,r)=>(p(),h("div",Le,[e("div",Be,[je,e("div",Ie,[e("div",Me,[Re,e("h1",Ae,w(_.title),1)]),e("button",{class:"btn btn-primary",onClick:l},"Check Now")])])]))}},U=$(Pe,[["__scopeId","data-v-7319f27f"]]),Ee={class:"container mb-5"},Ne={class:"row"},Te={class:"col-12"},Fe={class:"row"},Oe={class:"col-12 col-lg-4"},qe={class:"col-12 col-lg-4"},De={class:"col-12 col-lg-4"},ze={class:"row"},Je={class:"col-12 py-1"},He={key:0},We={class:"row"},Ge={class:"col-12 col-lg-8"},Ke={key:0,class:"text-center m-5"},Qe=e("h5",{class:"fw-bold fs-4"},"Ups! We haven't found anything!",-1),Xe=e("p",{class:"mt-3 text-center"},[g(" Don't worry, we get can get it for you!"),e("br"),g(" Let us know what you need clicking "),e("a",{href:"https://www.inferia.io/request-data/"},"here.")],-1),Ye=[Qe,Xe],Ze={key:1,class:"text-center"},et={key:2},tt={class:"col-12 col-lg-4"},lt={__name:"ResultsView",setup(a){const _=V(),{results:d}=b(_),c={energy:{tags:"energía,energética,contaminantes",title:"Energy & Environment"},economy:{tags:"empleo,trabajo,empresas,ayudas,locales",title:"Business"},development:{tags:"producción,consumo,reciclaje,basura,residuos,tráfico,materiales,material",title:"Circular Economy"}};return(l,n)=>(p(),h("div",Ee,[e("div",Ne,[e("div",Te,[v(O,{list:["Search"]}),v(G)])]),e("div",Fe,[e("div",Oe,[v(U,{title:c.energy.title,tag:c.energy.tags},null,8,["title","tag"])]),e("div",qe,[v(U,{title:c.economy.title,tag:c.economy.tags},null,8,["title","tag"])]),e("div",De,[v(U,{title:c.development.title,tag:c.development.tags},null,8,["title","tag"])])]),e("div",ze,[e("div",Je,[e("p",null,[g(" Results "),t(d)&&t(d).results?(p(),h("span",He,w(t(d).results.length),1)):T("",!0)])])]),e("div",We,[e("div",Ge,[t(d)&&t(d).results&&t(d).results.length===0?(p(),h("div",Ke,Ye)):t(d)==="loading"?(p(),h("div",Ze,[v(q)])):(p(),h("div",et,[(p(!0),h(j,null,F(t(d).results,r=>(p(),h("div",{key:r.title},[v(ie,{data:r},null,8,["data"])]))),128))]))]),e("div",tt,[v(D),v(Ue)])])]))}};export{lt as default};
