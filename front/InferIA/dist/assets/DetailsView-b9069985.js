import{_ as z,r as _,x as I,o as l,c as o,a as e,n as L,t as i,u as M,F as b,q as w,m as T,p as j,j as B,l as V,e as y,y as N,b as R}from"./index-d0ec4995.js";import{B as O}from"./BreadCrumbs-ae1c187a.js";import{D as G,L as q}from"./LoaderComp-a3d74a16.js";const $=a=>(j("data-v-32ed6385"),a=a(),B(),a),E={class:"min-w-[300px] max-w-[500px] cardx p-4 border-2 border-gray-100 rounded-md truncate w-full"},J=$(()=>e("h6",{class:"font-bold mt-3 text-sm"}," Precio",-1)),K=$(()=>e("h6",{class:"font-bold mt-3 text-sm"},"Licencia",-1)),P=["href"],U=$(()=>e("h6",{class:"font-bold mt-3 text-sm"},"Fuente",-1)),Y=["href"],H=$(()=>e("h6",{class:"font-bold mt-3 text-sm"},"Creado",-1)),Q={class:"px-2 text-xs pl-2"},W=$(()=>e("h6",{class:"font-bold mt-3 text-sm"},"Última modificación",-1)),X={class:"px-2 text-xs pl-2"},Z=$(()=>e("h6",{class:"font-bold mt-3 text-sm"},"Cobertura temporal",-1)),ee={class:"px-2 text-xs pl-2"},te=$(()=>e("h6",{class:"font-bold mt-3 text-sm"},"Cobertura geográfica",-1)),se={key:0,class:"px-2 text-xs pl-2"},le={key:1},oe={class:"px-2"},ae={key:2},ne={key:3,class:"mt-3"},ce={class:"cursor-pointer"},ie={__name:"MoreInfo",props:["data"],setup(a){const s=a,t=_(!0),h=_(!1),m=_("ver más"),d=_(""),r=_(!1),n=_(!1),u=I(()=>{let p=s.data.modified;return p==null?void 0:p.slice(0,16)}),S=I(()=>{var p;return(p=s.data.issued)==null?void 0:p.slice(0,16)}),k=I(()=>{var p,c,f,x;if((p=s.data.temporal)!=null&&p.startDate&&((c=s.temporal)!=null&&c.endDate)){const C=(f=s.data.temporal.startDate)==null?void 0:f.slice(0,16),g=(x=s.data.temporal.endDate)==null?void 0:x.slice(0,16);return C+" - "+g}}),D=()=>{s.data.geo?s.data.geo.length>1&&Array.isArray(s.data.geo)?(h.value=!0,d.value=s.data.geo):Array.isArray(s.data.geo)||(d.value=s.data.geo,h.value=!1,n.value=!0):d.value="---"},v=()=>{m.value==="ver más"?(d.value=s.data.geo,m.value="ver menos",r.value=!0):m.value==="ver menos"&&(D.value=s.data.geo[0],m.value="ver más",r.value=!1)};return D(),(p,c)=>(l(),o("div",E,[J,e("h6",{class:L(["font-semibold green mt-1 text-xs pl-2",{free:t.value,pay:!t.value}])},"Gratis",2),K,e("a",{href:a.data.license,class:"text-xs pl-2"},i(a.data.license),9,P),U,e("a",{href:`https://${a.data.provider}`,class:"text-xs pl-2"},i(a.data.provider),9,Y),H,e("p",Q,i(M(S)||"---"),1),W,e("p",X,i(M(u)||"---"),1),Z,e("p",ee,i(M(k)||"---"),1),te,r.value?(l(),o("ul",se,[(l(!0),o(b,null,w(d.value,f=>(l(),o("li",null,i(f),1))),256))])):!r.value&&!n.value?(l(),o("ul",le,[e("li",oe,i(d.value[0]),1)])):n.value?(l(),o("p",ae,i(d.value),1)):T("",!0),h.value?(l(),o("div",ne,[e("p",{onClick:v,class:"text-muted text-end"},[e("u",ce,i(m.value),1)])])):T("",!0)]))}},re=z(ie,[["__scopeId","data-v-32ed6385"]]);const de={class:"my-3 lg:w-5/6 w-full"},ue={class:"bg-[#06283D] p-3 rounded-lg text-white flex justify-between text-sm"},_e={class:"uppercase"},me=["onClick"],pe={class:"border-2 border-gray-100 rounded-lg"},he={key:0,class:"p-3"},ve={class:"accordion text-sm"},fe={class:"mb-2 mt-1 text-sm"},xe={class:"mt-2 bg-[#06283D] rounded-full p-2"},ge=["href"],ye={__name:"Acordeon",props:["data"],setup(a){const s=a,t=[];(()=>{for(let n=0;n<s.data.length;n++){let u=s.data[n].mediaType;t.includes(u)||t.push(u)}})(),(()=>{for(let n=0;n<s.data.length;n++)s.data[n].size.slice(0,4).toLowerCase()==="null"&&(s.data[n].size="---")})();const d=n=>{console.log(r.value[n].children.length);for(let u=1;u<r.value[n].children.length;u++)r.value[n].children[u].style.display==="none"?r.value[n].children[u].style.display="block":r.value[n].children[u].style.display="none"},r=_([]);return(n,u)=>{const S=V("font-awesome-icon");return l(),o("div",de,[(l(),o(b,null,w(t,(k,D)=>e("div",{class:"accordion-item",ref_for:!0,ref_key:"itemRefs",ref:r},[e("div",ue,[e("h2",_e,i(k),1),e("button",{class:"rounded-md",onClick:v=>d(D)},[y(S,{icon:["fas","caret-down"]})],8,me)]),(l(!0),o(b,null,w(a.data,(v,p)=>(l(),o("div",pe,[v.mediaType===k?(l(),o("div",he,[e("h6",ve,i(v.name),1),e("h6",fe,"Size: "+i(v.size),1),e("button",xe,[e("a",{href:v.downloadUrl,class:"text-white text-sm"},"Descargar",8,ge)])])):T("",!0)]))),256))],512)),64))])}}},be=z(ye,[["__scopeId","data-v-44d53737"]]);const we=a=>(j("data-v-238439d4"),a=a(),B(),a),$e={key:0,class:"table-container w-full"},ke={class:"table w-full"},De={class:"text-white py-1 rounded-lg"},Se={class:"stiky-header"},Ce={key:1},Te=we(()=>e("p",{class:"description"},"Vista previa no disponible.",-1)),ze=[Te],Ae={__name:"TableSample",props:["sample"],setup(a){const s=a;return(t,h)=>a.sample?(l(),o("div",$e,[e("table",ke,[e("thead",De,[e("tr",Se,[(l(!0),o(b,null,w(s.sample.columns,m=>(l(),o("th",null,i(m),1))),256))])]),e("tbody",null,[(l(!0),o(b,null,w(s.sample.data,m=>(l(),o("tr",null,[(l(!0),o(b,null,w(m,d=>(l(),o("td",null,i(d),1))),256))]))),256))])])])):(l(),o("div",Ce,ze))}},Ie=z(Ae,[["__scopeId","data-v-238439d4"]]);const F=a=>(j("data-v-ff6f8583"),a=a(),B(),a),Me={key:0,class:"container lg:my-5 mx-auto lg:px-12 lg:mt-28 mt-24 min-h-screen"},je={class:"bg-white w-full lg:w-10/12 mx-auto"},Be={class:"flex title-img w-full lg:w-10/12 mx-auto"},Fe=["src"],Le={class:"ml-4 w-3/5 lg:w-11/12"},Ve={class:"my-1 break-all truncate font-bold text-base underline decoration-sky-500 underline-offset-4"},Ne={class:"w-full my-5 lg:w-10/12 mx-auto rounded max-h-[500px] table-div text-xs"},Re={class:"w-full my-5 lg:w-10/12 mx-auto lg:flex"},Oe={class:"w-full lg:3/4 lg:mix-w-[40%] lg:mx-3"},Ge=F(()=>e("h5",{class:"mx-auto font-bold text-base text-[#06283D]"},"Descripción",-1)),qe={class:"mt-2 leading-6 text-justify"},Ee={class:"break-all text-sm"},Je={key:0},Ke={class:"lg:my-5 mt-6"},Pe=F(()=>e("h5",{class:"mx-auto font-bold text-base text-[#06283D]"},"Recursos",-1)),Ue={class:"w-full mx-auto"},Ye={class:"my-6 mx-auto w-full flex lg:block items-center justify-center"},He={class:"my-6 mx-auto w-full flex lg:block items-center justify-center"},Qe={key:1,class:"container lg:my-5 my-3 mx-auto lg:px-12 lg:mt-28 mt-28 flex items-center justify-center w-full min-h-screen"},We={__name:"DetailsView",setup(a){const s=N(),t=_({}),h=_(""),m=_(!1),d=_("ver más"),r=_("");_(!0),R(()=>{n()});const n=async()=>{try{const f=await(await fetch(`http://inferia.io/api/details/?id=${s.params.id}`,{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}})).json();t.value=f,S(),u(),k(),v()}catch(c){console.log(c)}},u=()=>{const c=[];Array.isArray(t.value.results.theme)||(c.push(t.value.results.theme),t.value.results.theme=c)},S=()=>{const c=_(t.value.results.resources),f=[" bytes"," KB"," MB"," GB"];for(let x=0;x<c.value.length;x++){let C=0,g=c.value[x].size;for(;g>1024;){let A=Math.floor(g/1024);A=A.toString(),C++,g=A}g=g+f[C],c.value[x].size=g}t.value.resources=c.value},k=()=>{t.value.results.description.length>=250?(m.value=!0,r.value=t.value.results.description.slice(0,250)+"..."):r.value=t.value.results.description},D=()=>{d.value==="ver más"?(r.value=t.value.results.description,d.value="ver menos"):(r.value=t.value.results.description.slice(0,250)+"...",d.value="ver más")},v=()=>{if(t.value.results.sample){let c=t.value.results.sample;c=JSON.parse(c),c.columns.length>=2?h.value=c:h.value=null}else h.value=null},p=()=>{console.log("Yes viettt")};return(c,f)=>t.value.results?(l(),o("div",Me,[e("div",je,[y(O,{list:["Search",`${t.value.results.title.slice(0,15)+"..."}`]},null,8,["list"])]),e("div",Be,[e("img",{src:t.value.results.img_portal,width:"50",class:"object-contain rounded-md"},null,8,Fe),e("div",Le,[e("h1",Ve,i(t.value.results.title),1),(l(!0),o(b,null,w(t.value.results.theme,x=>(l(),o("span",{onClick:p,class:"mr-2 text-sm rounded-full bg-gradient-to-r from-cyan-500 to-blue-500 px-4 text-white"},i(x),1))),256))])]),e("div",Ne,[y(Ie,{sample:h.value},null,8,["sample"])]),e("div",Re,[e("div",Oe,[Ge,e("div",qe,[e("p",Ee,i(r.value),1)]),m.value?(l(),o("div",Je,[e("p",{onClick:D,class:"text-muted text-end cursor-pointer"},[e("u",null,i(d.value),1)])])):T("",!0),e("div",Ke,[Pe,y(be,{data:t.value.resources},null,8,["data"])])]),e("div",Ue,[e("div",Ye,[y(re,{data:t.value.results},null,8,["data"])]),e("div",He,[y(G)])])])])):(l(),o("div",Qe,[y(q)]))}},tt=z(We,[["__scopeId","data-v-ff6f8583"]]);export{tt as default};
